language: python

runtime:
  nodePool: shippable_shared_aarch64

python: 
  - 2.7


build:
  # http://docs.shippable.com/ci/shippableyml/#ci
  ci:
    - lscpu
    - python -V
    - pip --version
    - pip install --upgrade pip
    - pip --version
    - pip install -v pytest
    - pip install -v Cython --install-option="--no-cython-compiler"
    - python setup.py build_ext -i
    - python -c "import numpy; print(numpy.__version__)"
    - pytest -v .

integrations:

  notifications:
    - integrationName: email
      type: email
      on_success: change
      on_failure: always
      on_pull_request: never
